@inherits Sandbox.UI.Panel
@using Sandbox
<style>
     Healthbar {
        position: absolute;
        bottom: 100px;
        right: 100px;
        width: 48px;
        height: 175px;
        background-color: white;
        box-shadow: rgb(0 0 0 / 5%) 0px 6px 24px 0px, rgb(0 0 0 / 8%) 0px 0px 0px 1px;
        padding: 4px;
        align-items: flex-end;
        border-radius: 10px;
    }
    .fill {
        height: 100%;
        width: 75%;
        background-color: red;
        border-radius: 10px;
        background-image: linear-gradient(to bottom, red, pink);
        transition: all 15s ease-out;
    }
</style>

<root>
    <div class="fill" style="width: @(Healthlost())%"></div>
</root>


@code {
    public int Healthlost () {
        var player = Game.LocalPawn as Pawn;
        if (player == null) return 0;
        return (int)player.Health;
    }

    protected override int BuildHash()
    {
        var currentHealth = Healthlost();
        return currentHealth.GetHashCode();
    }
}